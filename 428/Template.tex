% Copyright © 2013 Martin Ueding <dev@martin-ueding.de>

\input{../../header.tex}

\usepackage{booktabs}
\usepackage[section]{placeins}

\newcommand\versuchsnummer{428}

\ihead{physik412 – Versuch \versuchsnummer}
\ifoot{Martin Ueding, Lino Lemmer}

\subject{Praktikumsprotokoll}
\title{Röntgenstrahlung und Materialanalyse}
\subtitle{physik412 – Versuch \versuchsnummer}
\author{
    Martin Ueding \\
    \small{\href{mailto:mu@martin-ueding.de}{mu@martin-ueding.de}}
    \and
    Lino Lemmer \\
    \small{\href{mailto:s6lilemm@uni-bonn.de}{s6lilemm@uni-bonn.de}}
}

\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}

\begin{document}

\maketitle

\begin{abstract}
    \fehlt
\end{abstract}

\tableofcontents

\chapter{Theorie}

\section{Entstehung der Röntgenstrahlung}

\parencite[Abschnitt~17.3.1]{meschede-gerthsen_24}

\subsection{Bremsstrahlung}

\parencite[Abschnitt~17.3.4]{meschede-gerthsen_24}

\subsection{$K_\alpha$ und weitere Linien}

\parencite[Abschnitt~17.3.5]{meschede-gerthsen_24}

\section{Nachweis von Röntgenstrahlung}

\subsection{Geiger-Müller Zählrohr}

\parencite[Abschnitt~9.3.2]{meschede-gerthsen_24}

\parencite[Abschnitt~19.3.2~d)]{meschede-gerthsen_24}

\subsubsection{Aufbau}

\subsubsection{Funktionsweise}

\subsubsection{Totzeit}

\subsection{Röntgenenergiedetektor}

\subsubsection{Aufbau}

\subsubsection{Funktionsweise}

\subsubsection{PIN-Photodiode}

\parencite[Abschnitt~„Photodiode“]{wikipedia/pin-Diode}

\subsubsection{Vielkanalanalysator}

Ein Vielkanalanalysator registriert die Spannungspulse, teilt diese in viele
Spannungsintervalle auf und zählt die Häufigkeit.
\parencite{Phywe/Vierkanalanalysator} So entsteht ein Histogram der Energien.
\parencite{wikipedia/Vielkanalanalysator}

\section{Röntgenfluoreszenz}

\subsection{Bestimmung der Massenanteile}

\parencite[„Massenanteilsbestimmung“]{physik412-Anleitung}

\section{Bragg-Beugung}

\parencite[(18.4)]{meschede-gerthsen_24}
\[
    \Deltaup \vec k = \vec g
\]

\section{Laue-Verfahren}

\parencite[P428.5.3, „Auswertung“]{physik412-Anleitung}

\subsection{Laue-Bedingung}

\subsection{Miller'sche Indizes}

\subsection{Elementarzelle}

\subsection{Glanzwinkel}

\subsection{Netzebenenabstand}

\chapter{Bragg-Reflexion}

\section{Aufbau}

\parencite{wikipedia/Goniometer}
\parencite{wikipedia/hygroskopie}
\parencite{leybold/554831}
\parencite{leybold/554800}

Wir stellen den Taster auf \textsc{coupled}, damit der Winkel des Zählrohrs immer
der doppelte Winkel der Probe ist. \parencite{leybold/554800} Auf diese Weise
erhalten wir eine optimale Bragg-Beugung und maximale Intensität.

\section{Bestimmung des Anodenmaterials}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{Roehre_2.pdf}
    \caption{%
        Spektrum der unbekannten Röhre mit Nummer 2.
    }
    \label{fig:}
\end{figure}

\subsection{Auswertung}

\section{Feinstrukturmessung}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{Langzeit.pdf}
    \caption{%
        Spektrum der Molybdän-Röhre. Es ist die Aufspaltung der
        $K_\alpha$-Linie in vierter Beugungsordnung zu sehen.
    }
    \label{fig:}
\end{figure}

\subsection{Auswertung}

\chapter{Zerstörungsfreie Aufnahme chemischer Zusammensetzungen}

\section{Aufbau}

\subsection{Tausch der Röntgenröhre}

\subsection{Einbau Energiedetektor}

\section{Kalibrierung mit FeZn}

\subsection{Durchführung}

\subsection{Auswertung}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{FeZn.pdf}
    \caption{%
        Spektrum von FeZn.
    }
    \label{fig:FeZn}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{Energieeichung.pdf}
    \caption{%
        Anpassung der Energie an die Kanalnummer.
    }
    \label{fig:}
\end{figure}

\section{Aufnahme der Legierung}

\subsection{Durchführung}

\subsection{Auswertung}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{Probe_1.pdf}
    \caption{%
        Spektrum der unbekannten Probe 1.
    }
    \label{fig:}
\end{figure}

\section{Aufnahme der reinen Metalle}

\subsection{Durchführung}

\subsection{Auswertung}

\section{Bestimmung der Legierung und Massenanteile}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{Bestimmung.pdf}
    \caption{%
        Spektra der unbekannten Probe sowie der reinen Metalle.
    }
    \label{fig:Bestimmung}
\end{figure}

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{Bestimmung_Zoom.pdf}
    \caption{%
        Ausschnittsvergrößerung von Abbildung~\ref{fig:Bestimmung}
    }
    \label{fig:Bestimmung_Zoom}
\end{figure}

\chapter{Laue-Aufnahme}

In diesem Versuchsteil untersuchen wir das Beugungsmuster an einem NaCl
Kristall.

\section{Aufbau}

Wir benutzen die Röntgenröhre mit der Kupferanode mit einer Hochspannung von
\SI{35}{\kilo\volt} und einem Emissionsstrom von \SI{1}{\milli\ampere}.

Auf den groben Kollimator wird der NaCl Kristall aufgesteckt. Der Film (AGFA
Dentus M2 Comfort Röntgenfilm) wird mit dem entsprechenden Halter im Querformat
in einem Abstand von \SI{15}{\milli\meter} zum Kristall angebracht.

\section{Durchführung}

Die Strahlung wird für \SI{1800}{\second} betrieben. Danach entnehmen wir den
Film und entwickeln ihn gemäß ausliegender Anleitung mit Entwickler und
Fixierer.

Nachdem wir den Film fertig entwickelt haben, haben wir ihn getrocknet und mit
600 DPI eingescannt. Das Bild ist in Abbildung~\ref{fig:laue} gezeigt.

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{../Messdaten/laue.png}
    \caption{%
        Scan des Fotos, das wir durch Beugung an einem NaCl-Kristall erzeugt
        haben. 600 DPI.
    }
    \label{fig:laue}
\end{figure}

\section{Auswertung}

Um das Bild analysieren zu können, haben wir aus den RGB-Daten den blauen Kanal
herausgenommen. Wir hätten auch Mittelwerte, Maxima oder ähnliches nehmen
können. Jedoch ist das ganze Bild etwas bläulich, so dass uns dies gut
erschien. Der Helligkeitswert ist in Abbildung~\ref{fig:laue-helligkeit}
dargestellt. Die Abbildung ist jedoch in Falschfarben, um die Helligkeit besser
sichtbar zu machen.

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{laue-helligkeit.pdf}
    \caption{%
        Helligkeit im blauen Kanal.
    }
    \label{fig:laue-helligkeit}
\end{figure}

Gegen das unvermeidliche Rauschen durch den Scanner und den Film haben wir das
Bild geglättet. Dazu haben wir eine Gauß'sche
Unschärfe\footnote{\texttt{scipy.ndimage.filters.gaussian\_filter}} benutzt, die
nacheinander eine Faltung in  $x$ und $y$ mit einem Gaußkern vornimmt. Dabei
haben wir als Radius << gauss_radius >> Pixel benutzt. Das geglättete Bild ist
in Abbildung~\ref{fig:laue-gauss}.

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{laue-helligkeit-gauss.pdf}
    \caption{%
        Helligkeit nach Gauß'scher Unschärfe mit << gauss_radius >> Pixeln
        Radius.
    }
    \label{fig:laue-gauss}
\end{figure}

An der Skala am rechten Rand von Abbildung~\ref{fig:laue-gauss} ist zu
erkennen, dass der Wertebereich der Helligkeit kleiner geworden ist. Die ganz
dunklen und hellen Stellen wurden geschwächt. Der Kontrast hat also abgenommen,
jedoch werden die nächsten Schritte dadurch zuverlässiger.

\subsection{Ablesen der Reflexpunkte}

Um die Punkte algorithmisch finden zu können, wollen wir den Laplaceoperator
auf die Helligkeit anwenden. Dazu bilden wir zuerst den
Gradient\footnote{\texttt{numpy.gradient}}. Das Zwischenergebnis ist in
Abbildung~\ref{fig:laue-gradient} gezeigt.

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{laue-gradient_x_y.pdf}
    \caption{%
        Amplitude des Gradients der Helligkeit.
    }
    \label{fig:laue-gradient}
\end{figure}

Dann bilden wir die Divergenz des Gradienten und erhalten die Quellendichte.
Siehe Abbildung~\ref{fig:laue-laplace}.

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{laue-laplace}
    \caption{%
        Quellendichte der Helligkeit. Diese wurde mit dem Laplaceoperator
        bestimmt.
    }
    \label{fig:laue-laplace}
\end{figure}

Jetzt sind die Reflexionen besser vom Hintergrund abgehoben. Mit den Daten aus
Abbildung~\ref{fig:laue-helligkeit} oder \ref{fig:laue-gauss} wäre es nicht
möglich gewesen durch eine untere Grenze so viele Reflexionen zu isolieren.

Wir wenden nun eine untere Grenze von \num{<< laplace_threshold >>} an, um die
Maxima zu isolieren. Dann lassen wir die verbleibenden Objekte im Bild
suchen.\footnote{\texttt{scipy.ndimage.label} und
\texttt{scipy.ndimage.find\_objects}}

Zur Kontrolle sind in Abbildung~\ref{fig:laue-peaks} die gefundenen Reflexionen
eingezeichnet.

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{laue-peaks.pdf}
    \caption{%
        Gefundene Maxima über einem Schwellenwert von \num{<< laplace_threshold
        >>}.
    }
    \label{fig:laue-peaks}
\end{figure}

\subsection{Zuordnung der Gitterebenen}

Die Koordinaten korrigeren wir noch so, dass die Mitte gerade bei 0 liegt. Dazu
ziehen wir von $x$ \num{<< x_offset >>} und von $y$ \num{<< y_offset >>} ab. Da
das Bild mit 600 DPI eingescannt worden ist, können wir $x$ und $y$ von Pixeln
in Meter umwandeln. Zusammen mit $L = \SI{15}{\milli\meter}$ können wir dann
$z$ berechnen:
\[
    z = \sqrt{x^2 + y^2 + l^2} - l
\]

Wir bilden die beiden Verhältnisse
\[
    A := \frac xz
    \eqnsep
    B := \frac yz
\]
und lassen diese als Brüche mit kleinem Nenner
darstellen\footnote{\texttt{fractions.Fraction} mit
\texttt{fractions.Fractions.set\_denominator}}. Aus dieser Darstellung
errechnen wir die drei Laue-Indizes wie folgt:
\begin{align*}
    h &= \frac{A_\text{Zähler}}{A_\text{Nenner}}
    \mathop{\mathrm{kgv}}(A_\text{Nenner}, B_\text{Nenner}) \\
    k &= \frac{B_\text{Zähler}}{B_\text{Nenner}}
    \mathop{\mathrm{kgv}}(A_\text{Nenner}, B_\text{Nenner}) \\
    l &= \mathop{\mathrm{kgv}}(A_\text{Nenner}, B_\text{Nenner})
\end{align*}

Die so errechneten Laue-Indizes sind an die Stellen des Reflexes in
Abbildung~\ref{fig:laue-indizes} eingetragen. Dabei bedeutet die
Überstreichung, dass der entsprechende Werte negativ ist.

\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{laue-indizes.pdf}
    \caption{%
        Errechne Laue-Indizes zu den Reflexionen.
    }
    \label{fig:laue-indizes}
\end{figure}

\chapter{Zusammenfassung}

\chapter{Diskussion}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                   Anhang                                    %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\FloatBarrier
\begin{appendix}
    \FloatBarrier
    \chapter{\LaTeX-Quelltext}

    Der \LaTeX-Quelltext zu allen Protokollen in diesem Praktikum kann auf
    \ref{it:mu} eingesehen werden. Die Quellen für alle Protokolle in diesem
    Praktikum können auf \ref{it:github/alles} eingesehen werden. Die
    \LaTeX-Datei wird aus \ref{it:github/template} generiert.

    \begin{enumerate}
        \item
            \label{it:mu}
            \url{http://martin-ueding.de/de/university/physik412/}
        \item
            \label{it:github/alles}
            \url{https://github.com/martin-ueding/physik412-Protokolle/}
        \item
            \label{it:github/template}
            \url{https://github.com/martin-ueding/physik412-Protokolle/blob/master/\versuchsnummer/Template.tex}
    \end{enumerate}
\end{appendix}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                  Literatur                                  %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\FloatBarrier
\printbibliography

\end{document}

% vim: et spell spelllang=de tw=79
